generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Academia {
  id                BigInt     @id @default(autoincrement())
  dataFechamentoMes DateTime?  @map("data_fechamento_mes")
  nome              String?

  alunos            Aluno[]

  @@map("tb_academia")
}

model Aluno {
  id                     Int       @id @default(autoincrement())
  dataFim                DateTime? @map("data_fim")
  dataInicio             DateTime? @map("data_inicio")
  nome                   String?
  numeroTelefone         String?   @map("numero_telefone")
  statusAluno            StatusAluno?
  tipoPlano              TipoPlano?
  academiaId             BigInt?   @map("academia_id")
  medidasId              BigInt?   @unique @map("medidas_id")
  rua                    String?
  tipoPlanoPersonalizado String?   @map("tipo_plano_personalizado")
  updateAt               DateTime? @map("update_at")

  academia               Academia? @relation(fields: [academiaId], references: [id])
  medidas                Medidas?  @relation(fields: [medidasId], references: [id])

  @@map("tb_aluno")
}

model Medidas {
  id                   BigInt     @id @default(autoincrement())
  abdomen              String?
  altura               Float?
  antebracoDireito     String?    @map("antebraco_direito")
  antebracoEsquerdo    String?    @map("antebraco_esquerdo")
  bracoDireito         String?    @map("braco_direito")
  bracoEsquerdo        String?    @map("braco_esquerdo")
  cintura              String?
  coxaDireita          String?    @map("coxa_direita")
  coxaEsquerda         String?    @map("coxa_esquerda")
  panturrilhaDireito   String?    @map("panturrilha_direito")
  panturrilhaEsquerda  String?    @map("panturrilha_esquerda")
  peito                String?
  peso                 BigInt?

  aluno                Aluno?

  @@map("tb_medidas")
}

enum StatusAluno {
  ATIVO
  INATIVO
  RENOVAR
}

enum TipoPlano {
  ANUAL
  BIMESTRAL
  MENSAL
  SEMESTRAL
  TRIMESTRAL
}
